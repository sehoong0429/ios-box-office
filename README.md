# ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ğŸ“¦
> ì˜í™”ì§„í¥ìœ„ì›íšŒì˜ ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ë° ì˜í™” ìƒì„¸ì •ë³´ API ë¬¸ì„œì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€<br>
> `ì›í•˜ëŠ” ë‚ ì§œ`ì˜ `ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì¡°íšŒ` ë° `ì˜í™” ê°œë³„ ìƒì„¸ ì¡°íšŒ`ë¥¼ í•  ìˆ˜ ìˆê³ <br>
> `ë¦¬ìŠ¤íŠ¸` ë° `ì•„ì´ì½˜` í™”ë©´ìœ¼ë¡œ ë ˆì´ì•„ì›ƒì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ì•±  


> í”„ë¡œì íŠ¸ ê¸°ê°„: 2023.03.20 ~ 2023.04.14 

## ëª©ì°¨

1. [íŒ€ì›ğŸ‘©ğŸ»â€ğŸ’»](#íŒ€ì›)
2. [íƒ€ì„ë¼ì¸ â°](#íƒ€ì„ë¼ì¸)
3. [íŒŒì¼íŠ¸ë¦¬ ğŸŒ²](#íŒŒì¼íŠ¸ë¦¬)
4. [ì‹¤í–‰í™”ë©´ ](#ì‹¤í–‰í™”ë©´)
5. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
6. [ì°¸ê³ ë§í¬  ğŸ”—](#ì°¸ê³ ë§í¬)

## íŒ€ì›ğŸ‘©ğŸ»â€ğŸ’»

| Sehong   |
| :-----------: |
| <img height="210px" src="https://i.imgur.com/64dvDJl.jpg"> 
|[Github Profile](https://github.com/sehoong0429)

## íƒ€ì„ë¼ì¸â°
> í”„ë¡œì íŠ¸ í•˜ë‚˜ë¥¼ 1ì°¨, 2ì°¨ë¡œ ê¸°ê°„ì„ ë‚˜ëˆ ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. 

<details>
<summary>BoxOffice 1</summary>
    
### Step1 : ëª¨ë¸ íƒ€ì… êµ¬í˜„

 

 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
Json ë°ì´í„°ì™€ ë§¤ì¹­í•  ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤API ë°ì´í„° ëª¨ë¸ íƒ€ì… êµ¬í˜„ |
Json í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ êµ¬í˜„ | 



### Step 2, 2-1 : ë„¤íŠ¸ì›Œí‚¹ íƒ€ì… êµ¬í˜„ ë° Mock í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ êµ¬í˜„ 


 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
 NetworkError íƒ€ì… êµ¬í˜„                          |
 ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìˆ˜í–‰í•˜ëŠ” APIProvider í´ë˜ìŠ¤ êµ¬í˜„                 |
 Jsonë°ì´í„° ë””ì½”ë”© ìˆ˜í–‰ ì‘ì—…í•  JSONConverter í´ë˜ìŠ¤ êµ¬í˜„ |
 ì˜í™” ê°œë³„ ìƒì„¸ì¡°íšŒë¥¼ ìœ„í•œ ë°ì´í„° ëª¨ë¸ êµ¬í˜„         |
 ì˜í™” ì •ë³´ APIì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°ì¢… ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” MovieAPI êµ¬í˜„ |
 API ìš”ì²­ì„ ë°›ì•„ í•´ë‹¹ ìš”ì²­ë°›ê³  í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” performRequest ë©”ì„œë“œ êµ¬í˜„ |
 ì¼ì¼ì˜¤í”¼ìŠ¤ ë° ì˜í™” ìƒì„¸ ë°ì´í„° ì¶œë ¥ì„ ìœ„í•œ ë©”ì„œë“œ êµ¬í˜„ |                       |
 í…ŒìŠ¤íŠ¸í™˜ê²½ì—ì„œ ì‚¬ìš©í•  URLSessionDataTask ëŒ€ì²´ í”„ë¡œí† ì½œ êµ¬í˜„ |
íŒŒë¼ë¯¸í„° ì •ë ¬ì„ ìœ„í•œ URL Extension ì¶”ê°€                 |
URLSessionDataTaskë¥¼ ëª¨ë°©í•˜ì—¬ ë™ì‘í•˜ëŠ” í´ë˜ìŠ¤ êµ¬í˜„   |
 APIProvider ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ MockURLSession í´ë˜ìŠ¤ êµ¬í˜„ | 


### Step 3 : ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ëª©ë¡ í™”ë©´ êµ¬í˜„

 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
 Json ë°ì´í„°ì™€ ë§¤ì¹­í•  ìƒì„¸ ë°•ìŠ¤ì˜¤í”¼ìŠ¤API ë°ì´í„° ëª¨ë¸ íƒ€ì… êµ¬í˜„ |
 ëª©ë¡í™”ë©´ì„ ìœ„í•œ CollectionView ë° MovieListViewCell êµ¬í˜„ |
 ìƒˆë¡œê³ ì¹¨ì„ ìœ„í•œ refreshControl êµ¬í˜„ |
 step3ì— ëŒ€í•œ ì½”ë“œ ê°œì„  ë° step4 ì‹œì‘ |


    
### Step 4 : ì˜í™” ìƒì„¸í™”ë©´ êµ¬í˜„
 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
ìƒì„¸í™”ë©´ì„ ìœ„í•œ DetailViewController ìƒì„± ë° ì½”ë“œ ì‘ì„± |
ìƒì„¸í™”ë©´ ëª©ë¡ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ fetchMovieDetailData êµ¬í˜„  |
ëª©ë¡ ë°ì´í„°ë¥¼ ê·¸ë ¤ì¤„ ë©”ì„œë“œ êµ¬í˜„ |
ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ë°ì´í„° ëª¨ë¸ êµ¬í˜„ | 
ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë©”ì„œë“œ êµ¬í˜„ ë° ë ˆì´ì•„ì›ƒ êµ¬í˜„ 
ì´ë¯¸ì§€ ë¡œë”© ì „ indicator êµ¬í˜„ |

</details>

<details>
<summary> BoxOffice 2 </summary>
    
### Step 1 : UICalendarViewë¥¼ í™œìš©í•´ ë‚ ì§œì„ íƒ í™”ë©´ êµ¬í˜„


ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
UICalendarViewë¥¼ ê·¸ë ¤ì£¼ê¸° ìœ„í•œ Controller ìƒì„± ë° ì—°ê²° ë©”ì„œë“œ êµ¬í˜„|



### Step 2 : í™”ë©´ ëª¨ë“œ ë³€ê²½



 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
 ----------------------------------------------------- |
navigationToolbar ë©”ì„œë“œ êµ¬í˜„             |
 ê° í™”ë©´ ëª¨ë“œì— ë§ëŠ” list, icon ë ˆì´ì•„ì›ƒ ê·¸ë ¤ì£¼ëŠ” ë©”ì„œë“œ êµ¬í˜„                 |
 iconí™”ë©´ì— ì…€ì„ ê·¸ë ¤ì£¼ëŠ” movieIconCell ìƒì„± |
 listí™”ë©´ ë° detailí™”ë©´ì— dynamic type ì ìš©     |


### Step 3 : ë¡œì»¬ ìºì‹œ êµ¬í˜„
 ì£¼ìš” ì§„í–‰ ì‚¬í•­                                             |
----------------------------------------------------- |
URLCacheë¥¼ í™œìš©í•œ ìºì‹œ êµ¬í˜„ |
|ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì €ì¥ ë©”ì„œë“œ êµ¬í˜„|
|ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë©”ì„œë“œ êµ¬í˜„ | 

</details> 
    
## íŒŒì¼íŠ¸ë¦¬ğŸŒ²

```
â”œâ”€â”€ BoxOffice
â”‚Â Â  â”œâ”€â”€ App
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppDelegate.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CustomLog.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ SceneDelegate.swift
â”‚Â Â  â”œâ”€â”€ Extensions
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Int+decimal.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ JoinedString.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ String+NSMutableAttributed.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ URL+normalized.swift
â”‚Â Â  â”œâ”€â”€ Models
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BoxOfficeError.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BoxOfficeItem.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DateFormatOption.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ImageAPI.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ImageSearchResult.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MovieAPI.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MovieInfoItem.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MovieInfoTitle.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MovieRankingItem.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NameSpace.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SecretKey.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ ViewOption.swift
â”‚Â Â  â”œâ”€â”€ Network
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ APIProvider.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ImageManager.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ JSONConverter .swift
â”‚Â Â  â”œâ”€â”€ Protocols
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ URLSessionDataTaskable.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ URLSessionable.swift
â”‚   â”œâ”€â”€ View
â”‚   â”‚   â”œâ”€â”€ MovieIconCell.swift
â”‚   â”‚   â”œâ”€â”€ MovieInfoView.swift
â”‚   â”‚   â””â”€â”€ MovieListCell.swift
â”‚Â Â  â”œâ”€â”€ MainViewController.swift
â”‚Â Â  â”œâ”€â”€ CalendarViewController.swift
â”‚Â Â  â”œâ”€â”€ DateManager.swift
â”‚Â Â  â”œâ”€â”€ DetailMovieInfoViewController.swift
â””â”€â”€ BoxOfficeTests
 Â Â  â”œâ”€â”€ TestHelpers
 Â Â  â”‚Â Â  â”œâ”€â”€ MockURLSession.swift
 Â Â  â”‚Â Â  â”œâ”€â”€ MockURLSessionDataTask.swift
 Â Â  â”‚Â Â  â””â”€â”€ URLSessionTests.swift
 Â Â  â””â”€â”€ Tests
 Â Â      â””â”€â”€ BoxOfficeTests.swift
```

## ì‹¤í–‰í™”ë©´
> í”„ë¡œì íŠ¸ ê³¼ì • ì¤‘ ì£¼ìš” ê¸°ëŠ¥ì— ëŒ€í•œ ì‹¤í–‰í™”ë©´ ì…ë‹ˆë‹¤. 

| ì˜í™” ëª©ë¡í™”ë©´   |  ì˜í™” ìƒì„¸í™”ë©´ |
| :-----------: | :-----------: | 
| <img height="600px" width="300px" src="https://i.imgur.com/YwREJJx.gif"> | <img  height="600px" width="300px"  src="https://i.imgur.com/A9GCkPU.gif">

| ë‚ ì§œ ì„ íƒ ğŸ“†   |  í™”ë©´ ëª¨ë“œ ë³€ê²½ ğŸ“º |
| :-----------: | :-----------: | 
| <img height="600px" width="300px" src="https://i.imgur.com/Z12PB6P.gif"> | <img  height="600px" width="300px"  src="https://i.imgur.com/Ld7UUN3.gif">



## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
> í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì•Œê²Œë˜ì–´ ì ìš©í•œ ê°œë… ì •ë¦¬ ë° ë¬¸ì œ í•´ê²°ì— ëŒ€í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.

### 1ï¸âƒ£ API TEST 

<details>
1. í…ŒìŠ¤íŠ¸ ì§„í–‰ì‹œ URLì´ ì„ì˜ë¡œ ì§€ì •ë˜ì–´ë„ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ëŠ” ë¬¸ì œ
2. URL íŒŒë¼ë¯¸í„° ì¿¼ë¦¬ì˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ì–´ ì†ì„±ì´ ê°™ì•„ë„ ê°™ì€ URLë¡œ ì¸ì‹í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œ


í•´ë‹¹ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ê°ê° ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” URLì„ ë„£ê³  ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤. 
í•˜ì§€ë§Œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” URLì€ ë„˜ê¸°ê³  ì„œë²„ì—ëŸ¬ë¥¼ ë§Œë“¤ì–´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.  
![](https://i.imgur.com/44HNwk7.png)


boxOfficeURLStringì„ ì„ì˜ë¡œ ì§€ì •í•´ë„ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•œë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![](https://i.imgur.com/KElJwAW.png)

ì´ë¥¼ ìœ„í•´, URL extensionì— normalizedURL ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì •ë ¬í•˜ì—¬ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
```swift
extension URL {
    var normalizedURL: URL? {
        guard var components = URLComponents(url: self, resolvingAgainstBaseURL: false) else {
            return nil
        }
        
        if let queryItems = components.queryItems {
            components.queryItems = queryItems.sorted { $0.name < $1.name }
        }
        
        return components.url
    }
}


```
MockURLSessionì—ì„œëŠ” ìš”ì²­ URLê³¼ ì‘ë‹µURLì„ ë¹„êµí•˜ì—¬ ë‹¤ë¥´ë‹¤ë©´,
URLError.differentURL ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ì—¬ ìœ„ ë‘ê°€ì§€ ë¬¸ì œë¥¼ í•´ê²°í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 

```swift
if request.url?.normalizedURL != self.response.urlResponse?.url?.normalizedURL {
                self.response.error = URLError.differentURL
}
```
</details>


### 2ï¸âƒ£ HTTP ìƒíƒœì½”ë“œì— ë”°ë¥¸ ì—ëŸ¬ì²˜ë¦¬ 

<details>
APIProviderí´ë˜ìŠ¤ ë‚´ì˜ dataTask í•¨ìˆ˜ëŠ” URLSessionì˜ dataTaskë¥¼ ì‹¤í–‰í•˜ì—¬
ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ completionHandlerì— ì „ë‹¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. 

ë˜í•œ í•¨ìˆ˜ ë‚´ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬, ì„œë²„ ì—ëŸ¬ ë“±ì˜ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ì €ëŠ” Http ìƒíƒœì½”ë“œì— ë”°ë¥¸ ì—ëŸ¬ì²˜ë¦¬ë¥¼ 200~299 ì„±ê³µ ìƒíƒœ ì½”ë“œê°€ ì•„ë‹ˆë©´ 
ëª¨ë‘ `serverError` ê²½ìš°ë¡œ ë‹¨ í•œê°€ì§€ë¡œë§Œ ì²˜ë¦¬í•´ì£¼ê³  ìˆì—ˆìŠµë‹ˆë‹¤. 

```swift
 private func dataTask(request: URLRequest, completionHandler: @escaping (Result<Data, NetworkError>) -> Void) {
        
            ....

        guard let response = urlResponse as? HTTPURLResponse, (200...299).contains(response.statusCode) else {
            completionHandler(.failure(.serverError))
            return
        }      
            
        ...
                                                   
    }
```

Http ìƒíƒœì½”ë“œëŠ” ê°„ë‹¨íˆ ì•„ë˜ì™€ ê°™ì´ ë¶„ë¥˜ë©ë‹ˆë‹¤.

100 - 199 : ì •ë³´ì„± ìƒíƒœ ì½”ë“œ
200 - 299 : ì„±ê³µ ìƒíƒœ ì½”ë“œ
300 - 399 : ë¦¬ë‹¤ì´ë ‰ì…˜ ìƒíƒœ ì½”ë“œ
400 - 499 : í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬ ìƒíƒœ ì½”ë“œ
500 - 599 : ì„œë²„ ì—ëŸ¬ ìƒíƒœ ì½”ë“œ


ìœ„ì˜ ìƒíƒœì½”ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ê²°ê³¼ì— ë”°ë¼ ì„±ê³µìƒíƒœì— ë°ì´í„°ë¥¼ ë°›ê³  ë‚˜ë¨¸ì§€ì˜ ê²½ìš° ê°ê° ë‹¤ë¥¸ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•´ì£¼ëŠ” ë°©í–¥ìœ¼ë¡œ ë¡œì§ì„ ìˆ˜ì •í•´ë³´ì•˜ìŠµë‹ˆë‹¤. 
```swift
        
guard let response = urlResponse as? HTTPURLResponse else {
    completionHandler(.failure(.invalidURLRequest))
        return
        }
        
    switch response.statusCode {
        case 200...299:
        if let data = data {
            completionHandler(.success(data))
        } else {
            completionHandler(.failure(.missingData))
        }
        case 400...499:
            completionHandler(.failure(.clientError))
        case 500...599:
            completionHandler(.failure(.serverError))
        default:
            completionHandler(.failure(.invalidURLComponents))
        }
    }
    task.resume()
}

```
</details>
    
### 3ï¸âƒ£Â API ê´€ë¦¬ë¥¼ ìœ„í•œ MovieAPI 

<details>
Step2ì—ì„œëŠ” ì˜¤ëŠ˜ì˜ ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì¡°íšŒ, ì˜í™” ê°œë³„ ìƒì„¸ì¡°íšŒì— ëŒ€í•œ ë„¤íŠ¸ì›Œí‚¹ íƒ€ì…ì„ êµ¬í˜„í•´ì•¼í•©ë‹ˆë‹¤.
ê° API ìš”ì²­ì— ëŒ€í•œ í•„ìš”í•œ ì •ë³´ë¥¼ ì „ë‹¬ í•  ìˆ˜ ìˆë„ë¡ ì—°ê´€ ê°’ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

 

1. boxOffice: ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
    - targetDt(date)ê°€ í•„ìš”í•©ë‹ˆë‹¤.
2. detail: íŠ¹ì • ì˜í™”ì˜ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
    - movieCd(code)ê°€ í•„ìš”í•©ë‹ˆë‹¤.

extensionìœ¼ë¡œ API ìš”ì²­ì— ëŒ€í•œ ê²½ë¡œ, ë©”ì†Œë“œ, íŒŒë¼ë¯¸í„°ë¡œ ê° API ì†ì„±ì„ ë‚˜ëˆ ì„œ ê´€ë¦¬í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 

1. ê° ì†ì„±ì„ ë³„ë„ë¡œ ê´€ë¦¬í•˜ë©´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ê°€ì ¸ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ë™ì¼í•œ baseURL, methodë¥¼ ë‹¤ë¥¸ APIê°€ ì¶”ê°€ ë  ê²½ìš°ì—ë„ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
2. APIì˜ ì†ì„±ë“¤ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ì—¬ ê´€ë¦¬í•˜ë©´ ì½”ë“œê°€ êµ¬ì¡°í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
3. ê° ì†ì„±ì„ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ë©´, APIë¥¼ í™•ì¥í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ ì‰½ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
extension MovieAPI {
    
    var key: String {
      return "5946533a51615e4910d26ed447f2a666"
    }
    
    var baseURL: String {
        return "http://kobis.or.kr"
    }
    
    var path: String {
        switch self {
        case .boxOffice:
            return "/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json"
        case .detail:
            return "/kobisopenapi/webservice/rest/movie/searchMovieInfo.json"
        }
    }
    
    ... 
    
}
```
</details>

### 4ï¸âƒ£ ì—ëŸ¬íƒ€ì…
<details>
ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì²˜ë¦¬ ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ë“¤ì„ ì´ 4ê°€ì§€ë¡œ ë‚˜íƒ€ë‚´ì£¼ì—ˆìŠµë‹ˆë‹¤.
ë˜í•œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ì œê³µí•  ìˆ˜ ìˆëŠ” LocalizedError ë¥¼ ì±„íƒí•´ë³´ì•˜ìŠµë‹ˆë‹¤.

`clientError` - í´ë¼ì´ì–¸íŠ¸ê°€ ì˜ëª»ëœ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê±°ë‚˜ ìš”ì²­ì´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê²½ìš°
`serverError` - ì„œë²„ê°€ ë‚´ë¶€ ì˜¤ë¥˜ë¡œ ì¸í•´ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ê±°ë‚˜ ì„œë²„ê°€ ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ì œê³µí•˜ì§€ ëª»í•œ ê²½ìš°
`invalidURLComponents` - API ìš”ì²­ì„ êµ¬ì„±í•˜ëŠ” ë° í•„ìš”í•œ URL êµ¬ì„± ìš”ì†Œê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì€ í˜•ì‹ì¸ ê²½ìš°
`invalidURLRequest` - ìš”ì²­ URLì´ ì˜¬ë°”ë¥´ê²Œ ìƒì„±ë˜ì§€ ì•Šì€ ê²½ìš°
`missingData` - ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°

```swift
enum NetworkError: LocalizedError, CustomStringConvertible {
    case clientError
    case serverError
    case invalidURLComponents
    case invalidURLRequest
		case missingData 
    
    var description: String {
        switch self {
        case .clientError:
            return "CLINET_ERROR"
        case .serverError:
            return "SERVER_ERRROR"
        case .invalidURLComponents:
            return "INVALID_URL_COMPONENTS"
        case .invalidURLRequest:
            return "INVALID_URL_REQUEST"
				case .missingData:
            return "MISSING_DATA"
        }
    }
}
```
</details>

### 5ï¸âƒ£ createStateLabel í•¨ìˆ˜
<details>
ì˜í™”ì˜ ìˆœìœ„ ë³€ë™ì— ë”°ë¼ ìƒíƒœ ë ˆì´ë¸”ì„ ìƒì„±í•´ì£¼ëŠ” í•¨ìˆ˜ 

ì˜í™”ì§„í¥ìœ„ì›íšŒAPIì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” rankOldandNew(ë­í‚¹ì— ì‹ ê·œì§„ì…ì—¬ë¶€)ì™€ rankInten(ì „ì¼ëŒ€ë¹„ ìˆœìœ„ì˜ ì¦ê°ë¶„)ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì£¼ì—ˆìŠµë‹ˆë‹¤. 

1. rankOldandNewê°€ â€œOldâ€ì¸ ê²½ìš°ì—ëŠ” ì•„ë˜ ì„¸ ì¡°ê±´ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.
 
    -  ë³€ë™ ì—†ìœ¼ë©´ "-"
    -  ìˆœìœ„ ìƒìŠ¹ : ë¹¨ê°„ í™”ì‚´í‘œ + ë“±ë½ í¸ì°¨  â–²
    -  ìˆœìœ„ í•˜ë½ : íŒŒë€ í™”ì‚´í‘œ + ë“±ë½ í¸ì°¨  â–¼

2. rankOldandNewê°€ â€œNewâ€ì¸ ê²½ìš°ì—ëŠ” â€œì‹ ì‘â€ìœ¼ë¡œ í‘œì‹œí•´ì¤ë‹ˆë‹¤.

```swift
private func createStateLabel(rankOldandNew: String, rankInten: Int) -> NSMutableAttributedString {
        let attributedString = NSMutableAttributedString()
        
        if rankOldandNew == "OLD" {
            if rankInten == 0 {
                attributedString.add(string: "-")
            } else if rankInten > 0 {
                attributedString.add(string: "â–²", color: .systemRed)
                attributedString.add(string: "\(rankInten)")
            } else {
                attributedString.add(string: "â–¼", color: .systemBlue)
                attributedString.add(string: "\(-rankInten)")
            }
        } else {
            attributedString.add(string: "ì‹ ì‘", color: .systemRed)
        }
        
        return attributedString
        
}
```

ë˜í•œ ìƒˆë¡œìš´ NSAttributedStringì„ ë§Œë“¤ì–´ ì£¼ì–´ì§„ ì†ì„±ìœ¼ë¡œ ì´ˆê¸°í™”í•œ ë‹¤ìŒ, 
ê¸°ì¡´ì˜ NSMutableAttributedStringì— ì¶”ê°€í•˜ê³  ë°˜í™˜í•  ìˆ˜ ìˆë„ë¡ extensionì„ êµ¬í˜„í•˜ì—¬ ìœ„ì™€ ê°™ì´ í¸ë¦¬í•˜ê²Œ ì›í•˜ëŠ” ë¬¸ìì—´ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```swift
extension NSMutableAttributedString {
    
    @discardableResult
    func add(
        string: String,
        font: UIFont = .systemFont(ofSize: 12),
        color: UIColor = .label
    ) -> NSMutableAttributedString {
        let attributes: [NSAttributedString.Key: Any] = [
            .font: font,
            .foregroundColor: color
        ]
        
        append(NSAttributedString(string: string, attributes: attributes))
        
        return self
    }
    
}
```
</details>

### 6ï¸âƒ£ ImageView extension êµ¬í˜„ 
<details>
ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì´ë¯¸ì§€ê°€ í¬ë©´ ì œê°€ ì‚¬ì´ì¦ˆë¥¼ ì¡°ì ˆí•´ì£¼ë”ë¼ë„
ì¤„ì—¬ì¤€ ë§Œí¼ ì—¬ë°±ì´ ìƒê¸°ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. 
`scale`ì„ ì´ìš©í•´ì„œ ì´ë¯¸ì§€ì˜ í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
ì›ë³¸ ì´ë¯¸ì§€ì˜ ê°€ë¡œ í¬ê¸°ì™€ UIImageViewì˜ ê°€ë¡œ í¬ê¸°ë¥¼ ë¹„êµí•˜ì—¬ ì´ë¯¸ì§€ì˜ ìŠ¤ì¼€ì¼ì„ ê³„ì‚°í•˜ê³ , ì´ìš©í•´ UIImageë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

ë°ì´í„°ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì´ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ”ë°, 
ì´ëŸ° ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ imageViewì— ë§ê²Œ í¬ê¸°ë¥¼ ì§€ì •í•´ì„œ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   

```swift
extension UIImageView {
    
    func load(url: URL, originalWidth: Int = 0) {
        let viewWidth = frame.width
        
        DispatchQueue.global().async { [weak self] in
            guard let self = self, let data = try? Data(contentsOf: url) else { return }
            
            let scale = CGFloat(originalWidth) / CGFloat(viewWidth)
            
            let image = UIImage(data: data, scale: scale)
            
            DispatchQueue.main.async {
                self.image = image
            }
        }
    }
    
}
```
</details>

### 7ï¸âƒ£  Custom log ì‚¬ìš© 
<details>
ì»¤ìŠ¤í…€ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œì˜ ì‹¤í–‰ íë¦„ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ í†µí•´ ì•„ë˜ì™€ ê°™ì´ í•¨ìˆ˜ í˜¸ì¶œ, ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜ ë“±ì˜ ì •ë³´ë¥¼ ì •í™•í•˜ê²Œ í™•ì¸ í•  ìˆ˜ ìˆì–´ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

![](https://i.imgur.com/p9B5LMu.png)

```swift
func DEBUG_LOG(_ msg: Any, file: String = #file, function: String = #function, line: Int = #line) {
    #if DEBUG
    let filename = file.split(separator: "/").last ?? ""
    let funcName = function.split(separator: "(").first ?? ""
    print("ğŸ˜¡[\(filename)] \(funcName) (\(line)): \(msg)")
    #endif
}
```
</details>

### 8ï¸âƒ£ UICalendarViewì™€ UIDatePickerì˜ ì°¨ì´ 

<details>    
ë‘˜ë‹¤ ì‚¬ìš© ê²½í—˜ì´ì—†ì–´ ë¨¼ì € ì°¨ì´ì ê³¼ êµ¬í˜„ ë°©ì‹ì— ëŒ€í•´ ì°¾ì•„ë³´ê³  ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤. 

**UIDatePicker** 
A control for inputting date and time values
:ë‚ ì§œì™€ ì‹œê°„ì„ ì…ë ¥ í•˜ê¸° ìœ„í•œ`control`

- UIDatePickerì€ ìœ ì €ê°€ í•œë²ˆì— í•˜ë‚˜ì˜ pointë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- UIDatePickerì€ ë‚ ì§œ ë° ì‹œê°„ ì„ íƒì— ì¤‘ì ì„ ë‘” ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ê¸°ë•Œë¬¸ì— 
íŠ¹ì • ì‹œì ì— ëŒ€í•´ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ê±°ë‚˜ í•´ë‹¹ ë‚ ì§œë¥¼ ì²˜ë¦¬í•˜ê³  ì‹¶ê±°ë‚˜ ì‹œê°„ì„ ì„ íƒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´ UIDatePickerë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

**Calendar view** 
A view that displays a calendar with date-specific decorations, and provides for user selection of a single date or multiple dates. 
: íŠ¹ì •í•œ ë‚ ì§œê°€ ìˆëŠ” ë‹¬ë ¥ì„ í‘œì‹œí•˜ê³ , ì‚¬ìš©ìê°€ ë‹¨ì¼ ë‚ ì§œ ë˜ëŠ” ì—¬ëŸ¬ ë‚ ì§œë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” `view` 


- UICalendarViewë¥¼ ì‚¬ìš©í•˜ë©´ ì¶”ê°€ ì •ë³´(ì˜ˆ: ì˜ˆì •ëœ ì´ë²¤íŠ¸)ê°€ ìˆëŠ” ì‚¬ìš©ìì˜ íŠ¹ì • ë‚ ì§œë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‹¬ë ¥ì„ ë³´ì—¬ì£¼ê³  ì„ íƒí•˜ëŠ” ê²ƒë§Œ êµ¬í˜„í•˜ë ¤ë©´ UICalendarViewë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

UICalendarViewì™€ UIDatePickerì˜ ì¤‘ìš”í•œ ì°¨ì´ì ì€ 
NSDateë¥¼ ì‚¬ìš©í•˜ëŠ” íŠ¹ì • ì‹œì ì„ ë‚˜íƒ€ë‚´ëŠ” UIDatePickerì™€ ë‹¬ë¦¬ UICalendarViewëŠ” NSDateComponentsë¡œ ë‚ ì§œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

1. **NSDate**: NSDateëŠ” íŠ¹ì • ì‹œì ì„ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. 
ìœ ë‹‰ìŠ¤ ì‹œê°„ì¸ 1970ë…„ 1ì›” 1ì¼ 00:00:00 UTCë¶€í„° í˜„ì¬ ì‹œì ê¹Œì§€ì˜ ì‹œê°„ ê°„ê²©ì„ ì´ˆ ë‹¨ìœ„ë¡œ ì €ì¥í•©ë‹ˆë‹¤. NSDateëŠ” ì‹œê°„ëŒ€ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šìœ¼ë©°, ì ˆëŒ€ ì‹œê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

2. **NSDateComponents**: NSDateComponentsëŠ” ë‚ ì§œ ë° ì‹œê°„ì˜ êµ¬ì„± ìš”ì†Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ì—°ë„, ì›”, ì¼, ì‹œê°„, ë¶„, ì´ˆ ë“±ì˜ êµ¬ì„± ìš”ì†Œë¥¼ ê°œë³„ì ìœ¼ë¡œ ì €ì¥í•˜ë©°, ì‹œê°„ëŒ€ì™€ ê´€ë ¨ëœ ì •ë³´ë„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```swift
let calendarView = UICalendarView()
let selectedDateComponents = calendarView.selectedDateComponents
```

ì´ ì°¨ì´ì ì€ ë‚ ì§œ ë° ì‹œê°„ ì²˜ë¦¬ ë°©ì‹ì— ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. 
UIDatePickerë¥¼ ì‚¬ìš©í•˜ë©´ NSDateë¥¼ ì‚¬ìš©í•˜ì—¬ ì ˆëŒ€ ì‹œê°„ì„ ì²˜ë¦¬í•˜ê²Œ ë˜ë©°, UICalendarViewë¥¼ ì‚¬ìš©í•˜ë©´ NSDateComponentsë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚ ì§œ ë° ì‹œê°„ì˜ ê°œë³„ êµ¬ì„± ìš”ì†Œë¥¼ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ UICalendarViewëŠ” ì„ íƒí•œ ë‚ ì§œ ë° ì‹œê°„ì— ëŒ€í•œ ë” ì„¸ë°€í•œ ì œì–´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

*ë¬¼ë¡  UIDatePickerë„ NSDateComponentsë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚ ì§œ ë° ì‹œê°„ êµ¬ì„± ìš”ì†Œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.:
```swift
let datePicker = UIDatePicker()
let selectedDate = datePicker.date

let calendar = Calendar.current
let components = calendar.dateComponents([.year, .month, .day, .hour, .minute, .second], from: selectedDate)
```

</details>

### 9ï¸âƒ£ Map ì‚¬ìš©í•˜ì—¬ Optional ì²˜ë¦¬
<details>
mapì€ ë‘ ê°€ì§€ ì£¼ìš” ì—­í• ì„ ìˆ˜í–‰ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

`ë³€í™˜` : mapì€ ë°°ì—´, ì˜µì…”ë„ì— ì €ì¥ëœ ê°’ì„ ê°€ì ¸ì™€ ì£¼ì–´ì§„ í´ë¡œì € ë‚´ì˜ ë¡œì§ì— ë”°ë¼ ìƒˆë¡œìš´ ê°’ì„ ìƒì„±í•©ë‹ˆë‹¤.

`ì˜µì…”ë„ ë‹¤ë£¨ê¸°`: ì˜µì…”ë„ ê°’ì— mapì„ ì‚¬ìš©í•  ë•Œ, ì˜µì…”ë„ ê°’ì´ nilì¸ ê²½ìš° í´ë¡œì € ë‚´ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ nil ê°’ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ê°„ê²°í•˜ê²Œ í•  ìˆ˜ ìˆìœ¼ë©°, ì˜µì…”ë„ ê°’ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë¡œì§ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift 
private func setTitle(date: Date) {
        DateManager.formattedDateString(of: date, option: .calendar)
            .map { title = $0 }
    }
```

ìœ„ì˜ setTitle í•¨ìˆ˜ëŠ” ì£¼ì–´ì§„ ë‚ ì§œì˜ ì œëª©ì„ ì„¤ì •í•©ë‹ˆë‹¤. DateManager.formattedDateString í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì´ Optionalì´ê¸°ë•Œë¬¸ì— mapì„ ì‚¬ìš©í•˜ì—¬ nilì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ title ë³€ìˆ˜ì— ê°’ì„ í• ë‹¹í•©ë‹ˆë‹¤. ë˜í•œ ìœ„ì˜ ê²½ìš°ëŠ” DateFormatOptionì„ í•˜ë“œì½”ë”©í•˜ì§€ ì•Šê³  íƒ€ì…ì„ ì¨ì„œ nilì´ ì•„ë‹Œ ê²½ìš°ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì•ˆì „í•˜ê²Œ Optional ê°’ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
 </details>

### ğŸ”ŸÂ DateManager êµ¬í˜„
<details>
ì¡°ì–¸ì„ ë°›ì•˜ë˜ëŒ€ë¡œ í•œ ê°ì²´ê°€ í•˜ë‚˜ì˜ ì—­í• ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ë¶„ë¦¬í•˜ì—¬ date ê´€ë ¨ëœ í•¨ìˆ˜ë“¤ì„ `DateManager`ë¡œ ë§Œë“¤ì–´ì„œ ë¶„ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

1. `createYesterdayDate()`: ì–´ì œ ë‚ ì§œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” í•¨ìˆ˜ 
2. `formattedDateString()`: ë‚ ì§œë¥¼ ì§€ì •ëœ í¬ë§· ì˜µì…˜ì— ë”°ë¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
3. `formattedDateString()`: ë‚ ì§œ ë¬¸ìì—´ì„ 'yyyy-MM-dd' í˜•ì‹ì—ì„œ 'MMMM dd, yyyy' í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
```swift
struct DateManager {
    
    static func createYesterdayDate() -> Date {
        let today = Date()
        let yesterday = Calendar.current.date(byAdding: .day, value: -1, to: today) ?? today
        return yesterday
    }
    
    static func formattedDateString(of date: Date, option: DateFormatOption) -> String? {
        let dateFormatter = DateFormatter()
        dateFormatter.dateFormat = option.rawValue
        return dateFormatter.string(from: date)
    }
    
    static func formattedDateString(of dateString: String) -> String? {
        let dateFormatter = DateFormatter()
        dateFormatter.dateFormat = DateFormatOption.numerical.rawValue
        if let date = dateFormatter.date(from: dateString) {
            dateFormatter.dateFormat = DateFormatOption.calendar.rawValue
            return dateFormatter.string(from: date)
        }
        return dateString
    }
    
}
```

ë˜í•œ DateFormat ë¬¸ìì—´ì„ í•˜ë“œì½”ë”©í•˜ê³  ìˆì—ˆëŠ”ë° í•´ë‹¹ë¶€ë¶„ë„ 
ì—´ê±°í˜•ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œë¥¼ ì „ì²´ì ìœ¼ë¡œ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤. 
```swift
enum DateFormatOption: String {
    case calendar = "yyyy-MM-dd"
    case numerical = "yyyyMMdd"
}

```
</details>

### 1ï¸âƒ£1ï¸âƒ£ ë©”ì¸ í™”ë©´ì˜ ë·° ëª¨ë“œ ë³€ê²½ ê¸°ëŠ¥ êµ¬í˜„
<details>
ì‚¬ìš©ìëŠ” ë·° ëª¨ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
1. ë¦¬ìŠ¤íŠ¸ ëª¨ë“œ
2. ì•„ì´ì½˜ ëª¨ë“œ

`UIAlertController`ë¥¼ ì´ìš©í•˜ì—¬ ë·° ëª¨ë“œ ë³€ê²½ ë²„íŠ¼ì„ ìƒì„±í•´ì£¼ì—ˆê³ 
ì´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í˜„ì¬ ëª¨ë“œë¥¼ ë³€ê²½ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
```swift 
@objc private func changeViewMode() {
    let alert = UIAlertController(title: "í™”ë©´ëª¨ë“œë³€ê²½",
                                  message: nil,
                                  preferredStyle: .actionSheet)
    
    let actionTitle: String = currentViewOption == .list ? ViewOption.icon.rawValue : ViewOption.list.rawValue
    let viewModeAction = UIAlertAction(title: actionTitle, style: .default) { [weak self] _ in
        guard let self else { return }
        self.changeView()
    }
    let cancelAction = UIAlertAction(title: "ì·¨ì†Œ", style: .cancel)
    
    alert.addAction(viewModeAction)
    alert.addAction(cancelAction)
    self.present(alert, animated: true, completion: nil)
}

```

changeView() í•¨ìˆ˜ë¥¼ í†µí•´ ë·° ëª¨ë“œë¥¼ ë³€ê²½í•˜ê³ , ë·°ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. 
```swift 
private func changeView() {
    if case .list = currentViewOption {
        collectionView.setCollectionViewLayout(createIconLayout(),
                                               animated: true)
        collectionView.scrollToItem(at: IndexPath(item: 0, section: 0),
                                    at: .top, animated: false)
        currentViewOption = .icon
    } else if case .icon = currentViewOption {
        collectionView.setCollectionViewLayout(createListLayout(),
                                               animated: true)
        currentViewOption = .list
    }
    collectionView.reloadData()
}

```
</details>

### 1ï¸âƒ£2ï¸âƒ£ CompositionalLayoutì„ ì´ìš©í•œ í™”ë©´ icon ëª¨ë“œ êµ¬í˜„
<details>
NSCollectionLayoutSize, NSCollectionLayoutItem, NSCollectionLayoutGroup, ë° NSCollectionLayoutSectionì„ ì‚¬ìš©í•˜ì—¬ ì•„ì´ì½˜ ëª¨ë“œì˜ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
ì´ë¥¼ í†µí•´ ì•„ì´ì½˜ ëª¨ë“œì—ì„œ ì˜í™” í¬ìŠ¤í„°ê°€ ê°€ë¡œë¡œ 2ê°œì”© í‘œì‹œë˜ë„ë¡ ì„¤ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 

```swift
private func createIconLayout() -> UICollectionViewLayout {
    let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(0.5),
                                          heightDimension: .absolute(180))
    let item = NSCollectionLayoutItem(layoutSize: itemSize)
    item.contentInsets = NSDirectionalEdgeInsets(top: 0, leading: 10, bottom: 0, trailing: 5)
    
    let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),
                                           heightDimension: .estimated(180))
    let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize, subitems: [item])
    
    let section = NSCollectionLayoutSection(group: group)
    section.contentInsets = NSDirectionalEdgeInsets(top: 0, leading: 10, bottom: 0, trailing: 10)
    section.interGroupSpacing = 10
    
    let layout = UICollectionViewCompositionalLayout(section: section)
    return layout
}

```
</details>
    

### 1ï¸âƒ£3ï¸âƒ£ ìºì‹œ ì •ì±…
<details>
1. ìºì‹±í•  ë°ì´í„°ì˜ ë²”ìœ„: `ì´ë¯¸ì§€`
í¬ê¸°ê°€ í° ì´ë¯¸ì§€ë¥¼ ìºì‹± ëŒ€ìƒìœ¼ë¡œ ì„¤ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 
ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ì‹œê°„ì„ ì¤„ì—¬ì„œ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì•„ë˜ì™€ ê°™ì´ `ImageManager`ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤. 

```swift
final class ImageManager {
    
    static let shared = ImageManager()
    ...
}
```

2. ìºì‹œ ìš©ëŸ‰ ì œí•œ: `ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ê° 500MB` 
```swift
static let cache = URLCache(
        memoryCapacity: 500 * 1024 * 1024,
        diskCapacity: 500 * 1024 * 1024,
        directory: cacheDirectory
    )
```
3. ì”ì¡´ ê¸°í•œ: `.returnCacheDataElseLoad` 
    URLRequest.CachePolicyëŠ” ë¡œì»¬ ìºì‹œ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ ë¡œë“œí•  ìˆ˜ ìˆëŠ” ë°©ì‹ì„ ì„ íƒí•˜ì—¬ ì ìš©í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 
```swift
func fetchImage(imageURL: URL, cachePolicy: URLRequest.CachePolicy = .returnCacheDataElseLoad, completionHandler: @escaping (Data) -> Void) {
        let urlRequest = URLRequest(url: imageURL)
        
        loadImageFromCache(request: urlRequest) { [weak self] result in
            guard let self else { return }
            switch result {
            case .success(let imageData):
                completionHandler(imageData)
            case .failure:
                self.downloadImage(request: urlRequest) { imageData in
                    completionHandler(imageData)
                }
            }
        }
    }
```
</details>

### 1ï¸âƒ£4ï¸âƒ£ NScache vs URLCache ë¹„êµ 
    
<details>


ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í†µí•´ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ë¡œì»¬ì— ìºì‹œí•˜ë ¤ë©´ CoreData, URLCache, NSCache ë“±ì˜ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì € `CoreData`ëŠ” ì•±ì—ì„œ ëª¨ë¸ ê³„ì¸µ ê°œì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ì˜êµ¬ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì˜ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³ , ê°ì²´ ê´€ê³„ ë° ë°ì´í„° ëª¨ë¸ë§ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° ì¢€ ë” ë³µì¡í•œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸°ì— ì í•©í•˜ë‹¤ê³  ëŠê»´ì ¸ì„œ ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 

ì €ëŠ” `URLCache`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí–ˆëŠ”ë°, `NSCache`ì™€ ë¹„ìŠ·í•œ ë¶€ë¶„ì´ ìˆì–´ì„œ ì°¾ì•„ë³´ê³  ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

### ğŸŒ€NSCache

NSCacheëŠ” in-memory ìºì‹œì´ê¸° ë•Œë¬¸ì—, ì‹œìŠ¤í…œì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ì´ë¯¸ì§€ì˜ í¬ê¸° ë˜ëŠ” ë°ì´í„°ì˜ í¬ê¸°ì— ë¹„ë¡€í•˜ëŠ” í¬ê¸°ë¥¼ í• ë‹¹í•  ê²ƒì…ë‹ˆë‹¤. 

ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ê³  ì‹œìŠ¤í…œì´ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìºì‹œëœ ê°œì²´ë¥¼ ì¼ë¶€ ì œê±°í•˜ì—¬ ë©”ëª¨ë¦¬ ì„¤ì¹˜ ê³µê°„ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ NSCacheëŠ” ì œê±° ë˜ëŠ” ì ˆì°¨ê°€ ìˆœì„œëŒ€ë¡œ ì§„í–‰ ë˜ëŠ” ê²ƒì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. NSCacheì˜ ì¥ì ì€ ìƒì„± ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ë°ì´í„°ê°€ ìˆëŠ” ê°œì²´ì— ëŒ€í•œ ì„±ëŠ¥ ë° ìë™ ì‚­ì œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ğŸŒ€URLCache

ë„¤íŠ¸ì›Œí¬ ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ë°ì´í„°ë¥¼ ìºì‹±í•˜ê¸° ìœ„í•´ NSCache ëŒ€ì‹  URLCacheë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. URLCacheëŠ” ë©”ëª¨ë¦¬ ë‚´ ë° ë””ìŠ¤í¬ ìƒì˜ ìºì‹œì´ë©° ë°ì´í„°ì— ëŒ€í•´ ë©”ëª¨ë¦¬chunkë¥¼ í• ë‹¹í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë” ìœ ì—°í•œ in-memory ë° disk í¬ê¸°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ URLCacheëŠ” ì‹œìŠ¤í…œì´ ë””ìŠ¤í¬ ê³µê°„ì´ ë¶€ì¡±í•  ë•Œê¹Œì§€ ìºì‹œëœ ë°ì´í„°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.


</details>





## ì°¸ê³ ë§í¬ğŸ”—

<details>
<summary>BoxOffice 1</summary>
    
### step1, step2, step2-1

- [URLSession](https://developer.apple.com/documentation/foundation/urlsession)
[Fetching Website Data into Memory](https://developer.apple.com/documentation/foundation/url_loading_system/fetching_website_data_into_memory)
- [swiftì—ì„œ Json Parsingí•˜ê¸°](https://learn-hyeoni.tistory.com/m/45)
- [swiftì—ì„œ codableì‚¬ìš©í•˜ê¸°](https://medium.com/humanscape-tech/swiftì—ì„œ-codable-ì‚¬ìš©í•˜ê¸°-367587c5a591)
- [restful-apiëŠ” ë¬´ì—‡ì¼ê¹Œìš”?](https://aws.amazon.com/ko/what-is/restful-api/)
- [restAPIì œëŒ€ë¡œì•Œê³ ì‚¬ìš©í•˜ê¸°](https://meetup.nhncloud.com/posts/92)
- [ë„¤íŠ¸ì›Œí¬ì™€ ë¬´ê´€í•œURLSessionTest](https://wody.tistory.com/10)
- [ë„¤íŠ¸ì›Œí¬ í†µì‹ (RESTful API, JSON, URLSession)](https://weekoding.tistory.com/m/7)
- [JSON APIì™€ ë„¤íŠ¸ì›Œí¬ í†µì‹ í•˜ê¸° - URLSession, JSONConverter](https://bibi6666667.tistory.com/m/359)
- [Test Doubleì´ë€](https://jiseobkim.github.io/swift/2022/02/06/Swift-Test-Double(%EB%B6%80%EC%A0%9C-Mock-&-Stub-&-SPY-%EC%9D%B4%EB%9F%B0%EA%B2%8C-%EB%AD%90%EC%A7%80-).html)
- [http í†µì‹  get , post , post body json ìš”ì²­ ì‹¤ì‹œ](https://kkh0977.tistory.com/1334)
- [JsoníŒŒì¼ë§Œë“¤ê¸°](https://jurgen-94.tistory.com/30)
- [Constructing URLs in Swift](https://www.swiftbysundell.com/articles/constructing-urls-in-swift/)
- [iOS Networking and Testing](https://techblog.woowahan.com/2704/)
- [[Swift] Mock ì„ ì´ìš©í•œ Network Unit Test í•˜ê¸°](https://sujinnaljin.medium.com/swift-mock-ì„-ì´ìš©í•œ-network-unit-test-í•˜ê¸°-a69570defb41)
- [HTTPSìƒíƒœì½”ë“œ](https://dev-mystory.tistory.com/274)


### step3, step4 
- [UIrefreshcontrol](https://developer.apple.com/documentation/uikit/uirefreshcontrol)
- [UIcollectionviewcompositionallayout](https://developer.apple.com/documentation/uikit/uicollectionviewcompositionallayout)
- [Uicollectionlayoutlistconfiguration](https://developer.apple.com/documentation/uikit/uicollectionlayoutlistconfiguration)
- [implementing_modern_collection_views](https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views)
- [Swift-UICollectionView-CompositionalLayout-UIKit](https://github.com/vvbutko/Swift-UICollectionView-CompositionalLayout-UIKit)
- [how-to-create-uicollectionview-list-with-compositional-layout/](https://www.vbutko.com/articles/how-to-create-uicollectionview-list-with-compositional-layout/)
- [when-to-use-uicollectionview-instead-of-uitableview](https://stackoverflow.com/questions/23078847/when-to-use-uicollectionview-instead-of-uitableview)
- [nsmutableattributedstring](https://developer.apple.com/documentation/foundation/nsmutableattributedstring)
- [Return Early Pattern](https://medium.com/swlh/return-early-pattern-3d18a41bba8)
- [Lists in UICollectionView](https://developer.apple.com/videos/play/wwdc2020/10026)
- [creating-lists-with-collection-view/](https://useyourloaf.com/blog/creating-lists-with-collection-view/)
- [CollectionView - FlowLayout](https://co-dong.tistory.com/69)
- [iOS-TableView-xibë¡œ-êµ¬í˜„í•˜ê¸°](https://shark-sea.kr/entry/iOS-TableView-xib%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)
- [Swift-Custom-Cellë¡œ-UICollectionView-êµ¬í˜„í•˜ê¸°](https://velog.io/@jyw3927/Swift-Custom-Cell%EB%A1%9C-UICollectionView-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-i4xtxih4)
- [ì´ë¯¸ì§€APIê°€ì ¸ì˜¤ê¸°](https://rhkdgus0779.tistory.com/70)
- [indicator-view](https://ios-development.tistory.com/682)

</details>
    
<details>
<summary>BoxOffice 2</summary>
    
### Boxoffice 2 step1, step2

- [UICalendarView](https://developer.apple.com/documentation/uikit/uicalendarview)
- [UIAlertController](https://developer.apple.com/documentation/uikit/uialertcontroller)
- [Whatâ€™s new in Swift? - WWDC22](https://www.notion.so/UICalendarView-8c9f04597fed4a86bcf846a087ac17d6) 
- [How to Use UICalendarView in iOS 16](https://betterprogramming.pub/uicalendarview-tutorial-593731e52b72)
    
### BoxOffice 3 step3
- [URLCache](https://developer.apple.com/documentation/foundation/urlcache)
- [CoreData](https://developer.apple.com/documentation/coredata)
- [image-caching](https://levelup.gitconnected.com/image-caching-with-urlcache-4eca5afb543a)

- [urlSession](https://pspdfkit.com/blog/2020/downloading-large-files-with-urlsession/)
- [nsCache,urlCache](https://medium.com/@master13sust/to-nscache-or-not-to-nscache-what-is-the-urlcache-35a0c3b02598)
</details>
